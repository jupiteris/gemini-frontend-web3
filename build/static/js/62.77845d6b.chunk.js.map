{"version":3,"sources":["app/routes/RegisterPage/routes/Agency/index.js"],"names":["Agency","props","_this","Object","F_Task_React_Gemini_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","F_Task_React_Gemini_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","F_Task_React_Gemini_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","handleRequestClose","setState","showMessage","showRegisters","registerList","selectedPageNum","numPerPage","users","slice","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_RegisterList__WEBPACK_IMPORTED_MODULE_10__","onSearch","e","searchKey","target","value","selectPageNum","RegisterSideBar","className","util_CustomScrollbars__WEBPACK_IMPORTED_MODULE_12__","style","height","width","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9___default","variant","color","aria-label","onClick","onTapNewRegister","onRegisterClose","isOpen","filterUsers","userName","filter","user","first_name","last_name","toLowerCase","indexOf","handlePageClick","data","selected","state","noContentFoundMessage","alertMessage","drawerState","currentRegister","selectedRegister","selectedRegisters","addBuildingState","_this$state","agencies","_material_ui_core_Drawer__WEBPACK_IMPORTED_MODULE_13___default","open","onClose","onToggleDrawer","bind","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_6___default","components_AppModuleHeader_index__WEBPACK_IMPORTED_MODULE_11__","placeholder","notification","apps","onChange","length","react_paginate__WEBPACK_IMPORTED_MODULE_15___default","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","pageClassName","activeClassName","disabledClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakClassName","_NewRegister__WEBPACK_IMPORTED_MODULE_14__","user_type","register","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_8___default","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","aria-describedby","message","id","Component","connect","_ref","settings"],"mappings":"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","file":"static/js/62.77845d6b.chunk.js","sourcesContent":["import React, {Component} from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {connect} from \"react-redux\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Button from \"@material-ui/core/Button\";\nimport RegisterList from \"../../RegisterList\";\nimport AppModuleHeader from \"components/AppModuleHeader/index\";\nimport CustomScrollbars from \"util/CustomScrollbars\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport NewRegister from \"../../NewRegister\";\nimport ReactPaginate from \"react-paginate\";\n\n\nclass Agency extends Component {\n    handleRequestClose = () => {\n        this.setState({\n            showMessage: false\n        });\n    };\n    showRegisters = (registerList, selectedPageNum, numPerPage) => {\n        const users = registerList.slice(selectedPageNum*numPerPage, (selectedPageNum + 1)*numPerPage);\n        return (\n            <RegisterList\n                registerList={users}\n            />\n        );\n    };\n    onSearch = (e) => {\n        this.setState({searchKey: e.target.value, selectPageNum: 0});\n    };\n\n    onToggleDrawer() {\n        this.setState({\n            drawerState: !this.state.drawerState\n        });\n    }\n\n    RegisterSideBar = () => {\n        return <div className=\"module-side\">\n            <div className=\"module-side-header\">\n                <div className=\"module-logo\">\n                    <span>Agencies</span>\n                </div>\n            </div>\n\n            <div className=\"module-side-content\">\n                <CustomScrollbars className=\"module-side-scroll scrollbar\"\n                                  style={{height: this.props.width >= 1200 ? \"calc(100vh - 200px)\" : \"calc(100vh - 80px)\"}}>\n                    <div className=\"module-add-task\">\n                        <Button className=\"jr-btn btn-block\" variant=\"contained\" color=\"primary\" aria-label=\"add\"\n                                onClick={this.onTapNewRegister}>\n                            <span>{\"New Agency\"}</span>\n                        </Button>\n                    </div>\n                </CustomScrollbars>\n            </div>\n        </div>;\n\n    };\n    onRegisterClose = () => {\n        this.setState({isOpen: false});\n    };\n    onTapNewRegister = () => {\n        this.setState({isOpen: true});\n    };\n    filterUsers = (users, userName) => {\n        return users.filter((user) =>\n            (user.first_name + \" \" + user.last_name).toLowerCase().indexOf(userName.toLowerCase()) > -1\n        );\n    };\n    handlePageClick = data => {\n        const selectPageNum = data.selected;\n        this.setState({selectPageNum});\n    };\n    constructor(props) {\n        super(props);\n        this.state = {\n            noContentFoundMessage: \"No Agency found\",\n            alertMessage: \"\",\n            showMessage: false,\n            drawerState: false,\n            searchKey: \"\",\n            currentRegister: null,\n            selectedRegister: null,\n            selectedRegisters: 0,\n            addBuildingState: false,\n            isOpen: false,\n\n            selectPageNum: 0,\n            numPerPage: 5\n        };\n    }\n\n    render() {\n        const { alertMessage, showMessage, noContentFoundMessage, isOpen, selectedRegister, searchKey, selectPageNum, numPerPage } = this.state;\n        const { agencies } = this.props;\n        const users = searchKey === \"\"?agencies: this.filterUsers(agencies, searchKey);\n        return (\n            <div className=\"app-wrapper\">\n                <div className=\"app-module animated slideInUpTiny animation-duration-3\">\n                    <div className=\"d-block d-xl-none\">\n                        <Drawer\n                            open={this.state.drawerState}\n                            onClose={this.onToggleDrawer.bind(this)}>\n                            {this.RegisterSideBar()}\n                        </Drawer>\n                    </div>\n                    <div className=\"app-module-sidenav d-none d-xl-flex\">\n                        {this.RegisterSideBar()}\n                    </div>\n                    <div className=\"module-box\">\n                        <div className=\"module-box-header\">\n                            <IconButton className=\"drawer-btn d-block d-xl-none\" aria-label=\"Menu\"\n                                        onClick={this.onToggleDrawer.bind(this)}>\n                                <i className=\"zmdi zmdi-menu\"/>\n                            </IconButton>\n                            <AppModuleHeader placeholder=\"Search agency\" notification={false} apps={false}\n                                             value={searchKey} onChange={this.onSearch}/>\n                        </div>\n                        <div className=\"module-box-content\">\n                            <CustomScrollbars className=\"module-list-scroll scrollbar\"\n                                              style={{height: this.props.width >= 1200 ? \"calc(100vh - 265px)\" : \"calc(100vh - 245px)\"}}>\n                                {users.length === 0 ?\n                                    <div className=\"h-100 d-flex align-items-center justify-content-center\">\n                                        {noContentFoundMessage}\n                                    </div>\n                                    : this.showRegisters(users, selectPageNum, numPerPage)\n                                }\n                            </CustomScrollbars>\n                            <ReactPaginate\n                                previousLabel={'previous'}\n                                nextLabel={'next'}\n                                breakLabel={<a className=\"page-link\">...</a>}\n                                pageCount={users.length/numPerPage}\n                                marginPagesDisplayed={2}\n                                pageRangeDisplayed={5}\n                                onPageChange={this.handlePageClick}\n                                containerClassName=\"pagination justify-content-center\"\n                                pageClassName=\"page-item\"\n                                activeClassName=\"active\"\n                                disabledClassName=\"disabled\"\n                                pageLinkClassName=\"page-link\"\n                                previousClassName=\"page-item\"\n                                previousLinkClassName=\"page-link\"\n                                nextClassName=\"page-item\"\n                                nextLinkClassName=\"page-link\"\n                                breakClassName=\"page-item disabled\"\n                            />\n                        </div>\n                    </div>\n                </div>\n                {isOpen &&\n                <NewRegister\n                    user_type={'agency'}\n                    onRegisterClose={this.onRegisterClose}\n                    open={isOpen}\n                    register={selectedRegister}\n                />\n                }\n                <Snackbar\n                    anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}\n                    open={showMessage}\n                    autoHideDuration={3000}\n                    onClose={this.handleRequestClose}\n                    ContentProps={{\n                        \"aria-describedby\": \"message-id\"\n                    }}\n                    message={<span id=\"message-id\">{alertMessage}</span>}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({settings, users}) => {\n    const {width} = settings;\n    const { agencies } = users.users;\n    return {width, agencies};\n};\nexport default connect(mapStateToProps)(Agency);\n"],"sourceRoot":""}