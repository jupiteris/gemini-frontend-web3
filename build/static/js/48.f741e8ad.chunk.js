(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{6635:function(e,a,t){"use strict";t.r(a);var n=t(14),l=t(17),c=t(15),s=t(23),r=t(16),o=t(0),i=t.n(o),m=t(63),d=t.n(m),p=t(42),u=t.n(p),h=t(35),E=t(6715),g=t(33),b=t.n(g),N=t(217),v=t.n(N),f=t(809),y=t(52),C=t(967),x=t(949),w=t(3),_=t(815),S=t.n(_),k=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).SideBar=function(){return i.a.createElement("div",{className:"module-side"},i.a.createElement("div",{className:"module-side-header"},i.a.createElement("div",{className:"module-logo"},i.a.createElement("span",null,"Insurances"))),i.a.createElement("div",{className:"module-side-content"},i.a.createElement(y.a,{className:"module-side-scroll scrollbar",style:{height:t.props.width>=1200?"calc(100vh - 200px)":"calc(100vh - 80px)"}},i.a.createElement("div",{className:"module-add-task"},i.a.createElement(b.a,{className:"jr-btn btn-block",variant:"contained",color:"primary","aria-label":"add",onClick:t.onAddNew},i.a.createElement("span",null,"New Policy"))))))},t.onAddNew=function(){t.setState({addNew:!0})},t.onEdit=function(e){t.setState({selectedItem:e,addNew:!0})},t.onSave=function(e){t.setState({addNew:!1}),t.props.dispatch(Object(w.qb)()),t.props.dispatch(Object(w.j)(e))},t.onUpdate=function(e){t.setState({addNew:!1,selectedItem:{}}),t.props.dispatch(Object(w.qb)()),t.props.dispatch(Object(w.yb)(e.id,e))},t.onDelete=function(){t.setState({addNew:!1,selectedItem:{}})},t.onClose=function(){t.setState({addNew:!1,selectedItem:{}})},t.handleRequestClose=function(){t.setState({showMessage:!1})},t.showList=function(e,a,n){var l=e.slice(a*n,(a+1)*n);return i.a.createElement(C.a,{data:l,onEdit:t.onEdit,onDelete:t.onDelete})},t.onSearch=function(e){t.setState({searchKey:e.target.value,selectPageNum:0})},t.filterData=function(e,a){return e.filter(function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>-1})},t.handlePageClick=function(e){var a=e.selected;t.setState({selectPageNum:a})},t.getBodyId=function(){var e=t.props.match.url.split("/");return e[e.length-2]},t.state={noContentFoundMessage:"No insurance found",alertMessage:"",showMessage:!1,drawerState:!1,searchKey:"",addNew:!1,selectedItem:{},selectPageNum:0,numPerPage:10},t}return Object(r.a)(a,e),Object(s.a)(a,[{key:"onToggleDrawer",value:function(){this.setState({drawerState:!this.state.drawerState})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(w.X)(this.getBodyId()))}}]),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.searchKey,n=a.addNew,l=a.alertMessage,c=a.showMessage,s=a.noContentFoundMessage,r=a.selectedItem,o=a.selectPageNum,m=a.numPerPage,p=this.props.insurances;return i.a.createElement("div",{className:"app-wrapper"},i.a.createElement("div",{className:"app-module animated slideInUpTiny animation-duration-3"},i.a.createElement("div",{className:"d-block d-xl-none"},i.a.createElement(d.a,{open:this.state.drawerState,onClose:this.onToggleDrawer.bind(this)},this.SideBar())),i.a.createElement("div",{className:"app-module-sidenav d-none d-xl-flex"},this.SideBar()),i.a.createElement("div",{className:"module-box"},i.a.createElement("div",{className:"module-box-header"},i.a.createElement(u.a,{className:"drawer-btn d-block d-xl-none","aria-label":"Menu",onClick:this.onToggleDrawer.bind(this)},i.a.createElement("i",{className:"zmdi zmdi-menu"})),i.a.createElement(f.a,{placeholder:"Search here...",notification:!1,apps:!1,onChange:this.onSearch,value:t})),i.a.createElement("div",{className:"module-box-content"},i.a.createElement("div",{className:"module-box-topbar"},i.a.createElement(u.a,{className:"icon-btn",onClick:function(){e.props.history.goBack()}},i.a.createElement("i",{className:"zmdi zmdi-arrow-back"}))),i.a.createElement(y.a,{className:"module-list-scroll scrollbar",style:{height:this.props.width>=1200?"calc(100vh - 265px)":"calc(100vh - 245px)"}},null==p||0===p.length?i.a.createElement("div",{className:"h-100 d-flex align-items-center justify-content-center"},s):this.showList(p,o,m)),i.a.createElement(S.a,{previousLabel:"previous",nextLabel:"next",breakLabel:i.a.createElement("a",{className:"page-link"},"..."),pageCount:p.length/m,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination justify-content-center",pageClassName:"page-item",activeClassName:"active",disabledClassName:"disabled",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item disabled"})))),n&&i.a.createElement(x.a,{open:n,item:r,body_id:this.getBodyId(),onSave:this.onSave,onUpdate:this.onUpdate,onClose:this.onClose}),i.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:this.handleRequestClose,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},l)}))}}]),a}(o.Component);a.default=Object(E.a)(Object(h.c)(function(e){var a=e.settings,t=e.insurance;return{width:a.width,insurances:t.insurances}})(k))},809:function(e,a,t){"use strict";var n=t(14),l=t(23),c=t(17),s=t(15),r=t(16),o=t(216),i=t(0),m=t.n(i),d=t(42),p=t.n(d),u=t(47),h=t(165),E=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(c.a)(this,Object(s.a)(a).call(this))).onSearchBoxSelect=function(){e.setState({searchBox:!e.state.searchBox})},e.state={anchorEl:void 0,searchBox:!1,popoverOpen:!1},e.toggle=e.toggle.bind(Object(o.a)(Object(o.a)(e))),e}return Object(r.a)(a,e),Object(l.a)(a,[{key:"toggle",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=this.props,a=e.placeholder,t=e.onChange,n=e.value,l=e.user,c=e.notification,s=e.apps;return m.a.createElement("div",{className:"module-box-header-inner"},m.a.createElement("div",{className:"search-bar right-side-icon bg-transparent d-none d-sm-block"},m.a.createElement("div",{className:"form-group"},m.a.createElement("input",{className:"form-control border-0",type:"search",placeholder:a,onChange:t,value:n}),m.a.createElement("button",{className:"search-icon"},m.a.createElement("i",{className:"zmdi zmdi-search zmdi-hc-lg"})))),l&&m.a.createElement(u.h,{className:"p-3",placement:"bottom",isOpen:this.state.popoverOpen,target:"Popover1",toggle:this.toggle},m.a.createElement("h3",null,l.name),m.a.createElement("h4",null,l.email)),m.a.createElement("div",{className:"d-inline-block d-sm-none"},m.a.createElement(u.c,{className:"quick-menu nav-searchbox",isOpen:this.state.searchBox,toggle:this.onSearchBoxSelect.bind(this)},m.a.createElement(u.e,{className:"d-inline-block",tag:"span","data-toggle":"dropdown"},m.a.createElement(p.a,{className:"icon-btn"},m.a.createElement("i",{className:"zmdi zmdi-search zmdi-hc-fw text-grey"}))),m.a.createElement(u.d,{className:"p-0"},m.a.createElement(h.a,{styleName:"search-dropdown",placeholder:"",onChange:t,value:n})))),m.a.createElement("div",{className:"module-box-header-right"},s&&m.a.createElement(p.a,{className:"size-40","aria-label":"Menu"},m.a.createElement("i",{className:"zmdi zmdi-apps"})),c&&m.a.createElement(p.a,{className:"size-40","aria-label":"Menu"},m.a.createElement("i",{className:"zmdi zmdi-notifications-none"})),l&&m.a.createElement("img",{className:"ml-2 rounded-circle size-40 pointer",id:"Popover1",alt:l.name,onMouseEnter:this.toggle,onMouseLeave:this.toggle,onClick:this.toggle,src:l.avatar})))}}]),a}(m.a.Component);a.a=E,E.defaultProps={styleName:"",value:"",notification:!0,apps:!0}},820:function(e,a,t){"use strict";var n=t(37),l=t(90),c=t.n(l),s=Object(n.withStyles)(function(e){return{input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(c.a);a.a=s},949:function(e,a,t){"use strict";var n=t(120),l=t(14),c=t(17),s=t(15),r=t(23),o=t(16),i=t(0),m=t.n(i),d=t(47),p=t(33),u=t.n(p),h=t(42),E=t.n(h),g=t(810),b=t.n(g),N=t(75),v=t.n(N),f=t(166),y=t.n(f),C=t(122),x=t.n(C),w=t(817),_=t(820),S=t(824),k=t.n(S),O=t(35),j=t(3),z=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(s.a)(a).call(this,e))).handleSubmit=function(){var e=t.state,a=e.agency_id,n=e.contractor_id,l=e.payment_frequency_id,c=e.company,s=e.policy_branch,r=e.policy_number,o=e.stipulation_date,i=e.expiration_date,m=e.warning_date,d=e.note,p=e.attachment,u=t.props,h=u.body_id,E=u.onSave,g=new FormData;g.append("body[body_id]",h),g.append("body[agency_id]",a),g.append("body[contractor_id]",n),g.append("body[payment_frequency_id]",l),g.append("body[company]",c),g.append("body[policy_branch]",s),g.append("body[policy_number]",r),g.append("body[stipulation_date]",o),g.append("body[expiration_date]",i),g.append("body[warning_date]",m),g.append("body[attachment]",p),g.append("body[note]",d),E(g)},t.isValid=function(){var e=t.state,a=e.agency_id,n=e.contractor_id,l=e.payment_frequency_id,c=e.company,s=e.policy_branch,r=e.policy_number,o=e.stipulation_date,i=e.expiration_date,m=e.warning_date,d=e.note,p=e.attachment;return""!==a&&""!==n&&""!==l&&""!==c&&""!==s&&""!==r&&""!==o&&""!==i&&""!==m&&""!==d&&null!==p},t.handleChange=function(e){return function(a){t.setState(Object(n.a)({},e,a.target.value))}},t.handleChangeFile=function(e){t.setState({attachment:e})},t.state={id:"",agency_id:"",contractor_id:"",payment_frequency_id:"",company:"",policy_branch:"",policy_number:"",stipulation_date:"",expiration_date:"",warning_date:"",note:"",attachment:null},t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(j.bb)())}}]),Object(r.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.onClose,n=a.open,l=this.state,c=l.id,s=l.agency_id,r=l.contractor_id,o=l.payment_frequency_id,i=l.company,p=l.policy_branch,h=l.policy_number,g=l.stipulation_date,N=l.expiration_date,f=l.warning_date,C=l.note,S=this.props,O=S.stockists,j=S.managers,z=S.paymentFrequencies;return m.a.createElement(d.f,{className:"modal-box",isOpen:n},m.a.createElement(d.g,{className:"modal-box-header bg-primary text-white"},""===c?"New Policy":"Edit Policy",m.a.createElement(E.a,{className:"text-white",onClick:function(){return t()}},m.a.createElement(b.a,null))),m.a.createElement("div",{className:"modal-box-content"},m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"INSURANCE AGENCY")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(y.a,{className:"w-100 mb-2"},m.a.createElement(x.a,{value:s,onChange:this.handleChange("agency_id"),input:m.a.createElement(_.a,null)},O.map(function(e){return m.a.createElement(v.a,{key:e.id,value:e.id},e.first_name+" "+e.last_name)}))))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"INSURANCE COMPANY")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement("input",{value:i,className:"form-control form-control-lg",onChange:this.handleChange("company")}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"POLICY BRANCH")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement("input",{value:p,className:"form-control form-control-lg",onChange:this.handleChange("policy_branch")}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"POLICY NUMBER")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement("input",{value:h,className:"form-control form-control-lg",onChange:this.handleChange("policy_number")}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"CONTRACTOR")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(y.a,{className:"w-100 mb-2"},m.a.createElement(x.a,{value:r,onChange:this.handleChange("contractor_id"),input:m.a.createElement(_.a,null)},j.map(function(e){return m.a.createElement(v.a,{key:e.id,value:e.id},e.first_name+" "+e.last_name)}))))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"STIPULATION DATE")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(k.a,{mask:"99/99/2999",maskChar:null,placeholder:"dd/mm/yyyy",value:g,onChange:this.handleChange("stipulation_date")},function(e){return m.a.createElement("input",Object.assign({},e,{className:"form-control form-control-lg"}))}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"EXPIRATION DATE")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(k.a,{mask:"99/99/2999",maskChar:null,placeholder:"dd/mm/yyyy",value:N,onChange:this.handleChange("expiration_date")},function(e){return m.a.createElement("input",Object.assign({},e,{className:"form-control form-control-lg"}))}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"PAYMENT FREQUENCY")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(y.a,{className:"w-100 mb-2"},m.a.createElement(x.a,{value:o,onChange:this.handleChange("payment_frequency_id"),input:m.a.createElement(_.a,null)},z.map(function(e){return m.a.createElement(v.a,{value:e.id},e.name)}))))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"WARNING DATE")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(k.a,{mask:"99/99/2999",maskChar:null,placeholder:"dd/mm/yyyy",value:f,onChange:this.handleChange("warning_date")},function(e){return m.a.createElement("input",Object.assign({},e,{className:"form-control form-control-lg"}))}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"align-center font-size-18"},"NOTE")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement("textarea",{className:"form-control form-control-lg",rows:"6",style:{width:"100%",height:70,marginTop:5,paddingHorizontal:10,paddingVertical:5},placeholder:"Description",value:C,onChange:this.handleChange("note")}))),m.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},m.a.createElement("div",{className:"col-md-4 text-right p-relative"},m.a.createElement("label",{className:"font-size-18"},"ADD IMAGE")),m.a.createElement("div",{className:"col-md-8 p-0"},m.a.createElement(w.a,{filesLimit:1,showFileNamesInPreview:!0,dropzoneText:"Drag and drop a file here or click",onChange:this.handleChangeFile}))))),m.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},m.a.createElement(u.a,{disabled:!this.isValid(),variant:"contained",color:"primary",onClick:function(){e.handleSubmit()}},"Save Policy")))}}]),a}(m.a.Component);a.a=Object(O.c)(function(e){var a=e.users,t=e.paymentFrequency,n=a.users;return{stockists:n.stockists,managers:n.managers,paymentFrequencies:t.paymentFrequencies}})(z)},967:function(e,a,t){"use strict";var n=t(0),l=t.n(n),c=t(14),s=t(23),r=t(17),o=t(15),i=t(16),m=t(42),d=t.n(m),p=t(89),u=t.n(p),h=t(6715),E=t(75),g=t.n(E),b=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(r.a)(this,Object(o.a)(a).call(this))).onSubBuildingOptionSelect=function(a){e.setState({menuState:!0,anchorEl:a.currentTarget})},e.handleRequestClose=function(){e.setState({menuState:!1})},e.onTapEdit=function(){e.setState({menuState:!1})},e.onTapClaims=function(){e.setState({menuState:!1}),e.props.history.push("insurance/claims")},e.onTapDelete=function(){e.setState({menuState:!1})},e.state={anchorEl:void 0,menuState:!1,addCadstral:!1,addRent:!1,addSystem:!1,addDocument:!1,addCertificate:!1},e}return Object(i.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.item,n=(a.onEdit,a.onDelete,this.state),c=n.menuState,s=n.anchorEl,r=(t.id,t.policy_branch),o=t.company,i=t.policy_number,m=t.agency,p=(t.contractor,t.stipulation_date),h=t.expiration_date;t.warning_date;return l.a.createElement("div",{className:"contact-item module-list-item"},l.a.createElement("div",{className:"d-flex f-1 flex-wrap"},l.a.createElement("div",{className:"col con-inf-mw-100 f-3"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},r," (Policy branch)")),l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},o," (Policy company)")),l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},m.first_name+" "+m.last_name," (Insurance agency)"))),l.a.createElement("div",{className:"col con-inf-mw-100 f-3"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},i," (Policy number)")),l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},p," (Stipulation date)")),l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},h," (Expiry date)"))),l.a.createElement("div",{className:"col con-inf-mw-100 f-1 text-center"},l.a.createElement("p",{className:"mb-0"},l.a.createElement("span",{className:"text-truncate contact-name text-dark"},"Claims")),l.a.createElement("div",{className:"text-muted"},l.a.createElement("span",{className:"email d-inline-block mr-2"},0)))),l.a.createElement("div",{className:"col-auto px-1 actions d-none d-sm-flex"},l.a.createElement(d.a,{className:"icon-btn p-2",onClick:this.onSubBuildingOptionSelect},l.a.createElement("i",{className:"zmdi zmdi-more-vert"})),l.a.createElement(u.a,{id:"long-menu",anchorEl:s,open:c,onClose:this.handleRequestClose,MenuListProps:{style:{width:200}}},["EDIT","CLAIMS","DELETE"].map(function(a){return l.a.createElement(g.a,{key:a,onClick:function(){switch(a){case"EDIT":return void e.onTapEdit();case"CLAIMS":return void e.onTapClaims();case"DELETE":return void e.onTapDelete();default:return}}},a)}))))}}]),a}(l.a.Component),N=Object(h.a)(b);a.a=function(e){var a=e.data,t=e.onEdit,n=e.onDelete;return null!=a?l.a.createElement("div",{className:"contact-main-content"},a.map(function(e,a){return l.a.createElement(N,{key:a,item:e,onEdit:t,onDelete:n})})):null}}}]);
//# sourceMappingURL=48.f741e8ad.chunk.js.map