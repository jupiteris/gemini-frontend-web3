(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{6671:function(e,t,a){"use strict";a.r(t);var n=a(14),o=a(17),s=a(15),r=a(23),l=a(16),i=a(0),c=a.n(i),u=a(63),m=a.n(u),d=a(42),p=a.n(d),h=a(35),f=a(6715),g=a(33),v=a.n(g),b=a(217),E=a.n(b),k=a(809),C=a(52),N=a(120),w=a(47),S=a(810),O=a.n(S),y=a(75),x=a.n(y),D=a(166),M=a.n(D),I=a(122),j=a.n(I),_=a(817),P=a(820),z=a(824),V=a.n(z),L=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).handleSubmit=function(){var e=a.state,t=e.document_type_id,n=e.reg_date,o=e.reg_number,s=e.storage_code,r=e.compliance_id,l=e.note,i=e.attachment,c=a.props,u=c.body_id,m=c.onSave,d=new FormData;d.append("body[body_id]",u),d.append("body[document_type_id]",t),d.append("body[reg_date]",n),d.append("body[reg_number]",o),d.append("body[storage_code]",s),d.append("body[compliance_id]",r),d.append("body[note]",l),d.append("body[attachment]",i[0]),m(d)},a.isValid=function(){var e=a.state,t=e.document_type_id,n=e.reg_date,o=e.reg_number,s=e.storage_code,r=e.compliance_id,l=e.note,i=e.attachment;return""!==t&&""!==n&&""!==o&&""!==s&&""!==r&&""!==l&&null!==i},a.handleChange=function(e){return function(t){a.setState(Object(N.a)({},e,t.target.value))}},a.handleChangeFile=function(e){a.setState({attachment:e})},a.state={id:"",document_type_id:"",reg_date:"",reg_number:"",storage_code:"",compliance_id:"",note:"",attachment:null},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.onSaveDocument,t.onClose),n=t.open,o=(t.document,this.state),s=o.id,r=o.document_type_id,l=o.reg_date,i=o.reg_number,u=o.storage_code,m=o.compliance_id,d=o.note,h=this.props,f=h.documentTypes,g=h.compliances;return c.a.createElement(w.f,{className:"modal-box",isOpen:n},c.a.createElement(w.g,{className:"modal-box-header bg-primary text-white"},""===s?"Insert Document":"Edit Document",c.a.createElement(p.a,{className:"text-white",onClick:function(){return a()}},c.a.createElement(O.a,null))),c.a.createElement("div",{className:"modal-box-content"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-5"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Type of Document")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement(M.a,{className:"w-100 mb-2"},c.a.createElement(j.a,{value:r,onChange:this.handleChange("document_type_id"),input:c.a.createElement(P.a,null)},f.map(function(e){return c.a.createElement(x.a,{key:e.id,value:e.id},e.name)}))))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Registration Date")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement(V.a,{mask:"99/99/9999",maskChar:null,placeholder:"dd/mm/yyyy",value:l,onChange:this.handleChange("reg_date")},function(e){return c.a.createElement("input",Object.assign({},e,{className:"form-control form-control-lg"}))}))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Registration Number")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement("input",{className:"form-control form-control-lg",value:i,onChange:this.handleChange("reg_number")}))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Storage Code")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement("input",{className:"form-control form-control-lg",value:u,onChange:this.handleChange("storage_code")}))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-5"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Compliance")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement(M.a,{className:"w-100 mb-2"},c.a.createElement(j.a,{value:m,onChange:this.handleChange("compliance_id"),input:c.a.createElement(P.a,null)},g.map(function(e){return c.a.createElement(x.a,{key:e.id,value:e.id},e.name)}))))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"align-center font-size-18"},"Description")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement("textarea",{className:"form-control form-control-lg",rows:"6",style:{width:"100%",height:70,marginTop:5,paddingHorizontal:10,paddingVertical:5},value:d,placeholder:"Description",onChange:this.handleChange("note")}))),c.a.createElement("div",{className:"row col-md-12 col-12 p-0 mb-2"},c.a.createElement("div",{className:"col-md-4 text-right p-relative"},c.a.createElement("label",{className:"font-size-18"},"Attachment")),c.a.createElement("div",{className:"col-md-8 p-0"},c.a.createElement(_.a,{filesLimit:1,showFileNamesInPreview:!0,dropzoneText:"Drag and drop a file here or click",onChange:this.handleChangeFile}))))),c.a.createElement("div",{className:"modal-box-footer d-flex flex-row"},c.a.createElement(v.a,{disabled:!this.isValid(),variant:"contained",color:"primary",onClick:function(){e.handleSubmit()}},"Save Document")))}}]),t}(c.a.Component),B=Object(h.c)(function(e){var t=e.documentType,a=e.compliance;return{documentTypes:t.documentTypes,compliances:a.compliances}})(L),R=a(890),F=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).onSubBuildingOptionSelect=function(t){e.setState({menuState:!0,anchorEl:t.currentTarget})},e.handleRequestClose=function(){e.setState({menuState:!1})},e.state={anchorEl:void 0,menuState:!1,addCadstral:!1,addRent:!1,addSystem:!1,addDocument:!1,addCertificate:!1},e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=(e.onEdit,e.onDelete,this.state),n=(a.menuState,a.anchorEl,t.id,t.document_type),o=t.reg_date,s=(t.reg_number,t.storage_code,t.compliance);t.note,t.attachment;return c.a.createElement("div",{className:"contact-item module-list-item"},c.a.createElement("div",{className:"d-flex f-1 flex-wrap"},c.a.createElement("div",{className:"col con-inf-mw-100 ml-4 f-1"},c.a.createElement("div",{className:"mb-0"},c.a.createElement("span",{className:"text-truncate contact-name text-dark"},n.name)),c.a.createElement("div",{className:"mb-0"},c.a.createElement("span",{className:"text-truncate contact-name text-dark"},s.name))),c.a.createElement("div",{className:"col con-inf-mw-100 f-1 text-center"},c.a.createElement("p",{className:"mb-0"},c.a.createElement(R.a,{icon:"calendar-alt"}),c.a.createElement("span",{className:"text-truncate contact-name text-dark ml-1"},o)))),c.a.createElement("div",{className:"col-auto px-1 actions d-none d-sm-flex"},c.a.createElement(p.a,{className:"icon-btn p-2",onClick:this.onSubBuildingOptionSelect},c.a.createElement("i",{className:"zmdi zmdi-more-vert"}))))}}]),t}(c.a.Component),T=Object(f.a)(F),A=function(e){var t=e.data,a=e.onEdit,n=e.onDelete;return null!=t?c.a.createElement("div",{className:"contact-main-content"},t.map(function(e,t){return c.a.createElement(T,{key:t,item:e,onEdit:a,onDelete:n})})):null},U=a(3),q=a(815),X=a.n(q),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).SideBar=function(){return c.a.createElement("div",{className:"module-side"},c.a.createElement("div",{className:"module-side-header"},c.a.createElement("div",{className:"module-logo"},c.a.createElement("span",null,"Document"))),c.a.createElement("div",{className:"module-side-content"},c.a.createElement(C.a,{className:"module-side-scroll scrollbar",style:{height:a.props.width>=1200?"calc(100vh - 200px)":"calc(100vh - 80px)"}},c.a.createElement("div",{className:"module-add-task"},c.a.createElement(v.a,{className:"jr-btn btn-block",variant:"contained",color:"primary","aria-label":"add",onClick:a.onAddDocument},c.a.createElement("span",null,"New Document"))))))},a.onAddDocument=function(){a.setState({addDocument:!0})},a.onEdit=function(e){a.setState({selectedItem:e,addDocument:!0})},a.onSave=function(e){a.setState({addDocument:!1}),a.props.dispatch(Object(U.qb)()),a.props.dispatch(Object(U.h)(e))},a.onUpdate=function(e){a.setState({addDocument:!1,selectedItem:{}}),a.props.dispatch(Object(U.qb)()),a.props.dispatch(Object(U.wb)(e.id,e))},a.onDelete=function(){a.setState({addDocument:!1,selectedItem:{}})},a.onClose=function(){a.setState({addDocument:!1,selectedItem:{}})},a.handleRequestClose=function(){a.setState({showMessage:!1})},a.showList=function(e,t,n){var o=e.slice(t*n,(t+1)*n);return c.a.createElement(A,{data:o,onEdit:a.onEdit,onDelete:a.onDelete})},a.onSearch=function(e){a.setState({searchKey:e.target.value,selectPageNum:0})},a.filterData=function(e,t){return e.filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1})},a.handlePageClick=function(e){var t=e.selected;a.setState({selectPageNum:t})},a.getBodyId=function(){var e=a.props.match.url.split("/");return e[e.length-2]},a.state={noContentFoundMessage:"No document found",alertMessage:"",showMessage:!1,selectedSectionId:1,drawerState:!1,searchUser:"",addDocument:!1,selectedItem:{},selectPageNum:0,numPerPage:10},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"onToggleDrawer",value:function(){this.setState({drawerState:!this.state.drawerState})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(U.R)()),this.props.dispatch(Object(U.K)()),this.props.dispatch(Object(U.T)(this.getBodyId()))}}]),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.searchKey,n=t.addDocument,o=t.alertMessage,s=t.showMessage,r=t.noContentFoundMessage,l=t.selectedItem,i=t.selectPageNum,u=t.numPerPage,d=this.props.documents;return c.a.createElement("div",{className:"app-wrapper"},c.a.createElement("div",{className:"app-module animated slideInUpTiny animation-duration-3"},c.a.createElement("div",{className:"d-block d-xl-none"},c.a.createElement(m.a,{open:this.state.drawerState,onClose:this.onToggleDrawer.bind(this)},this.SideBar())),c.a.createElement("div",{className:"app-module-sidenav d-none d-xl-flex"},this.SideBar()),c.a.createElement("div",{className:"module-box"},c.a.createElement("div",{className:"module-box-header"},c.a.createElement(p.a,{className:"drawer-btn d-block d-xl-none","aria-label":"Menu",onClick:this.onToggleDrawer.bind(this)},c.a.createElement("i",{className:"zmdi zmdi-menu"})),c.a.createElement(k.a,{placeholder:"Search here...",notification:!1,apps:!1,onChange:this.onSearch,value:a})),c.a.createElement("div",{className:"module-box-content"},c.a.createElement("div",{className:"module-box-topbar"},c.a.createElement(p.a,{className:"icon-btn",onClick:function(){e.props.history.goBack()}},c.a.createElement("i",{className:"zmdi zmdi-arrow-back"}))),c.a.createElement(C.a,{className:"module-list-scroll scrollbar",style:{height:this.props.width>=1200?"calc(100vh - 265px)":"calc(100vh - 245px)"}},null==d||0===d.length?c.a.createElement("div",{className:"h-100 d-flex align-items-center justify-content-center"},r):this.showList(d,i,u)),c.a.createElement(X.a,{previousLabel:"previous",nextLabel:"next",breakLabel:c.a.createElement("a",{className:"page-link"},"..."),pageCount:d.length/u,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination justify-content-center",pageClassName:"page-item",activeClassName:"active",disabledClassName:"disabled",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item disabled"})))),n&&c.a.createElement(B,{open:n,item:l,body_id:this.getBodyId(),onSave:this.onSave,onUpdate:this.onUpdate,onClose:this.onClose}),c.a.createElement(E.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:s,autoHideDuration:3e3,onClose:this.handleRequestClose,ContentProps:{"aria-describedby":"message-id"},message:c.a.createElement("span",{id:"message-id"},o)}))}}]),t}(i.Component);t.default=Object(f.a)(Object(h.c)(function(e){var t=e.settings,a=e.document;return{width:t.width,documents:a.documents}})(Y))},809:function(e,t,a){"use strict";var n=a(14),o=a(23),s=a(17),r=a(15),l=a(16),i=a(216),c=a(0),u=a.n(c),m=a(42),d=a.n(m),p=a(47),h=a(165),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(s.a)(this,Object(r.a)(t).call(this))).onSearchBoxSelect=function(){e.setState({searchBox:!e.state.searchBox})},e.state={anchorEl:void 0,searchBox:!1,popoverOpen:!1},e.toggle=e.toggle.bind(Object(i.a)(Object(i.a)(e))),e}return Object(l.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.onChange,n=e.value,o=e.user,s=e.notification,r=e.apps;return u.a.createElement("div",{className:"module-box-header-inner"},u.a.createElement("div",{className:"search-bar right-side-icon bg-transparent d-none d-sm-block"},u.a.createElement("div",{className:"form-group"},u.a.createElement("input",{className:"form-control border-0",type:"search",placeholder:t,onChange:a,value:n}),u.a.createElement("button",{className:"search-icon"},u.a.createElement("i",{className:"zmdi zmdi-search zmdi-hc-lg"})))),o&&u.a.createElement(p.h,{className:"p-3",placement:"bottom",isOpen:this.state.popoverOpen,target:"Popover1",toggle:this.toggle},u.a.createElement("h3",null,o.name),u.a.createElement("h4",null,o.email)),u.a.createElement("div",{className:"d-inline-block d-sm-none"},u.a.createElement(p.c,{className:"quick-menu nav-searchbox",isOpen:this.state.searchBox,toggle:this.onSearchBoxSelect.bind(this)},u.a.createElement(p.e,{className:"d-inline-block",tag:"span","data-toggle":"dropdown"},u.a.createElement(d.a,{className:"icon-btn"},u.a.createElement("i",{className:"zmdi zmdi-search zmdi-hc-fw text-grey"}))),u.a.createElement(p.d,{className:"p-0"},u.a.createElement(h.a,{styleName:"search-dropdown",placeholder:"",onChange:a,value:n})))),u.a.createElement("div",{className:"module-box-header-right"},r&&u.a.createElement(d.a,{className:"size-40","aria-label":"Menu"},u.a.createElement("i",{className:"zmdi zmdi-apps"})),s&&u.a.createElement(d.a,{className:"size-40","aria-label":"Menu"},u.a.createElement("i",{className:"zmdi zmdi-notifications-none"})),o&&u.a.createElement("img",{className:"ml-2 rounded-circle size-40 pointer",id:"Popover1",alt:o.name,onMouseEnter:this.toggle,onMouseLeave:this.toggle,onClick:this.toggle,src:o.avatar})))}}]),t}(u.a.Component);t.a=f,f.defaultProps={styleName:"",value:"",notification:!0,apps:!0}},820:function(e,t,a){"use strict";var n=a(37),o=a(90),s=a.n(o),r=Object(n.withStyles)(function(e){return{input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(s.a);t.a=r},824:function(e,t,a){e.exports=a(827)},827:function(e,t,a){"use strict";var n,o=(n=a(0))&&"object"==typeof n&&"default"in n?n.default:n,s=a(34);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var o=a[n],s=Object.getOwnPropertyDescriptor(t,o);s&&s.configurable&&void 0===e[o]&&Object.defineProperty(e,o,s)}}(e.prototype.constructor=e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,a,n,o,s,r,l){if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,n,o,s,r,l],u=0;(i=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw i.framesToPop=1,i}};function u(e,t,a){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=a;else{var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",a-t),n.select()}}var m={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},d="_";function p(e,t,a){var n="",o="",s=null,r=[];if(void 0===t&&(t=d),null==a&&(a=m),!e||"string"!=typeof e)return{maskChar:t,formatChars:a,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var l=!1;return e.split("").forEach(function(e){l=!l&&"\\"===e||(l||!a[e]?(r.push(n.length),n.length===r.length-1&&(o+=e)):s=n.length+1,n+=e,!1)}),{maskChar:t,formatChars:a,prefix:o,mask:n,lastEditablePosition:s,permanents:r}}function h(e,t){return-1!==e.permanents.indexOf(t)}function f(e,t,a){var n=e.mask,o=e.formatChars;if(!a)return!1;if(h(e,t))return n[t]===a;var s=o[n[t]];return new RegExp(s).test(a)}function g(e,t){return t.split("").every(function(t,a){return h(e,a)||!f(e,a,t)})}function v(e,t){var a=e.maskChar,n=e.prefix;if(!a){for(;t.length>n.length&&h(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var o=n.length,s=t.length;s>=n.length;s--){var r=t[s];if(!h(e,s)&&f(e,s,r)){o=s+1;break}}return o}function b(e,t){return v(e,t)===e.mask.length}function E(e,t){var a=e.maskChar,n=e.mask,o=e.prefix;if(!a){for((t=k(e,"",t,0)).length<o.length&&(t=o);t.length<n.length&&h(e,t.length);)t+=n[t.length];return t}if(t)return k(e,E(e,""),t,0);for(var s=0;s<n.length;s++)h(e,s)?t+=n[s]:t+=a;return t}function k(e,t,a,n){var o=e.mask,s=e.maskChar,r=e.prefix,l=a.split(""),i=b(e,t);return!s&&n>t.length&&(t+=o.slice(t.length,n)),l.every(function(a){for(;u=a,h(e,c=n)&&u!==o[c];){if(n>=t.length&&(t+=o[n]),l=a,s&&h(e,n)&&l===s)return!0;if(++n>=o.length)return!1}var l,c,u;return!f(e,n,a)&&a!==s||(n<t.length?t=s||i||n<r.length?t.slice(0,n)+a+t.slice(n+1):(t=t.slice(0,n)+a+t.slice(n),E(e,t)):s||(t+=a),++n<o.length)}),t}function C(e,t){for(var a=e.mask,n=t;n<a.length;++n)if(!h(e,n))return n;return null}function N(e){return e||0===e?e+"":""}function w(e,t,a,n,o){var s=e.mask,r=e.prefix,l=e.lastEditablePosition,i=t,c="",u=0,m=0,d=Math.min(o.start,a.start);return a.end>o.start?m=(u=function(e,t,a,n){var o=e.mask,s=e.maskChar,r=a.split(""),l=n;return r.every(function(t){for(;r=t,h(e,a=n)&&r!==o[a];)if(++n>=o.length)return!1;var a,r;return(f(e,n,t)||t===s)&&n++,n<o.length}),n-l}(e,0,c=i.slice(o.start,a.end),d))?o.length:0:i.length<n.length&&(m=n.length-i.length),i=n,m&&(1!==m||o.length||(d=o.start===a.start?C(e,a.start):function(e,t){for(var a=t;0<=a;--a)if(!h(e,a))return a;return null}(e,a.start)),i=function(e,t,a,n){var o=a+n,s=e.maskChar,r=e.mask,l=e.prefix,i=t.split("");if(s)return i.map(function(t,n){return n<a||o<=n?t:h(e,n)?r[n]:s}).join("");for(var c=o;c<i.length;c++)h(e,c)&&(i[c]="");return a=Math.max(l.length,a),i.splice(a,o-a),t=i.join(""),E(e,t)}(e,i,d,m)),i=k(e,i,c,d),(d+=u)>=s.length?d=s.length:d<r.length&&!u?d=r.length:d>=r.length&&d<l&&u&&(d=C(e,d)),c||(c=null),{value:i=E(e,i),enteredString:c,selection:{start:d,end:d}}}function S(e){return"function"==typeof e}function O(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function y(e){return(O()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function x(e){(O()||clearTimeout)(e)}var D=function(e){function t(t){var a=e.call(this,t)||this;a.focused=!1,a.mounted=!1,a.previousSelection=null,a.selectionDeferId=null,a.saveSelectionLoopDeferId=null,a.saveSelectionLoop=function(){a.previousSelection=a.getSelection(),a.saveSelectionLoopDeferId=y(a.saveSelectionLoop)},a.runSaveSelectionLoop=function(){null===a.saveSelectionLoopDeferId&&a.saveSelectionLoop()},a.stopSaveSelectionLoop=function(){null!==a.saveSelectionLoopDeferId&&(x(a.saveSelectionLoopDeferId),a.saveSelectionLoopDeferId=null,a.previousSelection=null)},a.getInputDOMNode=function(){if(!a.mounted)return null;var e=s.findDOMNode(i(i(a))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},a.getInputValue=function(){var e=a.getInputDOMNode();return e?e.value:null},a.setInputValue=function(e){var t=a.getInputDOMNode();t&&(a.value=e,t.value=e)},a.setCursorToEnd=function(){var e=v(a.maskOptions,a.value),t=C(a.maskOptions,e);null!==t&&a.setCursorPosition(t)},a.setSelection=function(e,t,n){void 0===n&&(n={});var o=a.getInputDOMNode(),s=a.isFocused();o&&s&&(n.deferred||u(o,e,t),null!==a.selectionDeferId&&x(a.selectionDeferId),a.selectionDeferId=y(function(){a.selectionDeferId=null,u(o,e,t)}),a.previousSelection={start:e,end:t,length:Math.abs(t-e)})},a.getSelection=function(){return function(e){var t=0,a=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,a=e.selectionEnd;else{var n=document.selection.createRange();n.parentElement()===e&&(t=-n.moveStart("character",-e.value.length),a=-n.moveEnd("character",-e.value.length))}return{start:t,end:a,length:a-t}}(a.getInputDOMNode())},a.getCursorPosition=function(){return a.getSelection().start},a.setCursorPosition=function(e){a.setSelection(e,e)},a.isFocused=function(){return a.focused},a.getBeforeMaskedValueChangeConfig=function(){var e=a.maskOptions,t=e.mask,n=e.maskChar,o=e.permanents,s=e.formatChars;return{mask:t,maskChar:n,permanents:o,alwaysShowMask:!!a.props.alwaysShowMask,formatChars:s}},a.isInputAutofilled=function(e,t,n,o){var s=a.getInputDOMNode();try{if(s.matches(":-webkit-autofill"))return!0}catch(c){}return!a.focused||o.end<n.length&&t.end===e.length},a.onChange=function(e){var t=i(i(a)).beforePasteState,n=i(i(a)).previousSelection,o=a.props.beforeMaskedValueChange,s=a.getInputValue(),r=a.value,l=a.getSelection();a.isInputAutofilled(s,l,r,n)&&(r=E(a.maskOptions,""),n={start:0,end:0,length:0}),t&&(n=t.selection,r=t.value,l={start:n.start+s.length,end:n.start+s.length,length:0},s=r.slice(0,n.start)+s+r.slice(n.end),a.beforePasteState=null);var c=w(a.maskOptions,s,l,r,n),u=c.enteredString,m=c.selection,d=c.value;if(S(o)){var p=o({value:d,selection:m},{value:r,selection:n},u,a.getBeforeMaskedValueChangeConfig());d=p.value,m=p.selection}a.setInputValue(d),S(a.props.onChange)&&a.props.onChange(e),a.isWindowsPhoneBrowser?a.setSelection(m.start,m.end,{deferred:!0}):a.setSelection(m.start,m.end)},a.onFocus=function(e){var t=a.props.beforeMaskedValueChange,n=a.maskOptions,o=n.mask,s=n.prefix;if(a.focused=!0,a.mounted=!0,o){if(a.value)v(a.maskOptions,a.value)<a.maskOptions.mask.length&&a.setCursorToEnd();else{var r=E(a.maskOptions,s),l=E(a.maskOptions,r),i=v(a.maskOptions,l),c=C(a.maskOptions,i),u={start:c,end:c};if(S(t)){var m=t({value:l,selection:u},{value:a.value,selection:null},null,a.getBeforeMaskedValueChangeConfig());l=m.value,u=m.selection}var d=l!==a.getInputValue();d&&a.setInputValue(l),d&&S(a.props.onChange)&&a.props.onChange(e),a.setSelection(u.start,u.end)}a.runSaveSelectionLoop()}S(a.props.onFocus)&&a.props.onFocus(e)},a.onBlur=function(e){var t=a.props.beforeMaskedValueChange,n=a.maskOptions.mask;if(a.stopSaveSelectionLoop(),a.focused=!1,n&&!a.props.alwaysShowMask&&g(a.maskOptions,a.value)){var o="";S(t)&&(o=t({value:o,selection:null},{value:a.value,selection:a.previousSelection},null,a.getBeforeMaskedValueChangeConfig()).value);var s=o!==a.getInputValue();s&&a.setInputValue(o),s&&S(a.props.onChange)&&a.props.onChange(e)}S(a.props.onBlur)&&a.props.onBlur(e)},a.onMouseDown=function(e){if(!a.focused&&document.addEventListener){a.mouseDownX=e.clientX,a.mouseDownY=e.clientY,a.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",function e(t){if(document.removeEventListener("mouseup",e),a.focused){var n=Math.abs(t.clientX-a.mouseDownX),o=Math.abs(t.clientY-a.mouseDownY),s=Math.max(n,o),r=(new Date).getTime()-a.mouseDownTime;(s<=10&&r<=200||s<=5&&r<=300)&&a.setCursorToEnd()}})}S(a.props.onMouseDown)&&a.props.onMouseDown(e)},a.onPaste=function(e){S(a.props.onPaste)&&a.props.onPaste(e),e.defaultPrevented||(a.beforePasteState={value:a.getInputValue(),selection:a.getSelection()},a.setInputValue(""))},a.handleRef=function(e){null==a.props.children&&S(a.props.inputRef)&&a.props.inputRef(e)};var n=t.mask,o=t.maskChar,r=t.formatChars,l=t.alwaysShowMask,c=t.beforeMaskedValueChange,m=t.defaultValue,d=t.value;a.maskOptions=p(n,o,r),null==m&&(m=""),null==d&&(d=m);var h=N(d);if(a.maskOptions.mask&&(l||h)&&(h=E(a.maskOptions,h),S(c))){var f=t.value;null==t.value&&(f=m),h=c({value:h,selection:null},{value:f=N(f),selection:null},null,a.getBeforeMaskedValueChangeConfig()).value}return a.value=h,a}l(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),a=navigator.userAgent;return e.test(a)&&t.test(a)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},a.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,a=t.beforeMaskedValueChange,n=t.alwaysShowMask,o=t.mask,s=t.maskChar,r=t.formatChars,l=this.maskOptions,i=n||this.isFocused(),c=null!=this.props.value,u=c?N(this.props.value):this.value,m=e?e.start:null;if(this.maskOptions=p(o,s,r),this.maskOptions.mask){!l.mask&&this.isFocused()&&this.runSaveSelectionLoop();var d=this.maskOptions.mask&&this.maskOptions.mask!==l.mask;if(l.mask||c||(u=this.getInputValue()),(d||this.maskOptions.mask&&(u||i))&&(u=E(this.maskOptions,u)),d){var h=v(this.maskOptions,u);(null===m||h<m)&&(m=b(this.maskOptions,u)?h:C(this.maskOptions,h))}!this.maskOptions.mask||!g(this.maskOptions,u)||i||c&&this.props.value||(u="");var f={start:m,end:m};if(S(a)){var k=a({value:u,selection:f},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());u=k.value,f=k.selection}this.value=u;var w=this.getInputValue()!==this.value;w?(this.setInputValue(this.value),this.forceUpdate()):d&&this.forceUpdate();var O=!1;null!=f.start&&null!=f.end&&(O=!e||e.start!==f.start||e.end!==f.end),(O||w)&&this.setSelection(f.start,f.end)}else l.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},a.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&x(this.selectionDeferId),this.stopSaveSelectionLoop()},a.render=function(){var e,t=this.props,a=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),n=function(e,t){if(null==e)return{};var a,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],0<=t.indexOf(a)||(o[a]=e[a]);return o}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(a){S(a)||c(!1);var s=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],l=r({},n);s.forEach(function(e){return delete l[e]}),e=a(l),s.filter(function(t){return null!=e.props[t]&&e.props[t]!==n[t]}).length&&c(!1)}else e=o.createElement("input",r({ref:this.handleRef},n));var i={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(n.disabled||n.readOnly||(i.onChange=this.onChange,i.onPaste=this.onPaste,i.onMouseDown=this.onMouseDown),null!=n.value&&(i.value=this.value)),e=o.cloneElement(e,i)},t}(o.Component);e.exports=D}}]);
//# sourceMappingURL=45.ac8faf20.chunk.js.map